---
layout:     post
title:      JSP MVC 패턴을 이용한 회원관리 만들기
author:     쭌프로
tags:       JAVA JSP
subtitle:   JSP MVC 패턴 복습 노트
category:   JAVA
---

<!-- Start Writing Below in Markdown -->

![Description](https://alalstjr.github.io/jjunpro.github.io/img/java_bg.png)

*공부하면서 작성한 주관적인 개인 노트입니다.

# DB 초기 설정

MySQL 과 JAVA를 연결하기 위해서 필요한 <a href="https://dev.mysql.com/downloads/connector/j/5.1.html">Connector/J</a> 다운로드한 후에
mysql-connector-java-5.1.47-bin.jar 파일을 WEB-INF/lib 폴더 내부에 넣습니다. 

## src/config 폴더 생성

src/config
  - DataBase.java
  - EncodingFilter.java
  
## DataBase.java 클래스 생성

<script src="https://gist.github.com/alalstjr/012b33aff5fcb11020885e68bc48279c.js"></script>

## EncodingFilter.java 클래스 생성

request요청시 한글 파라메터값이 깨지는 경우 setCharacterEncoding 를 활용하여 <br/>
정상적으로 한글이 출력할 수 있도록 모든페이지에 적요시킵니다.

<script src="https://gist.github.com/alalstjr/5d4056717993ffbf7dbcea8cd662c421.js"></script>

destroy() 함수
  - 딱 한 번만 호출됩니다.
  - 웹 어플리케이션의 실행이 멈출 때, 서블릿이 사용한 자원을 초기화시킬 수 있도록 이 메서드를 호출합니다.
  - 서블릿이 사용한 자원을 초기화 시키는 코드를 넣습니다.

init() 함수 
  - 딱 한 번만 호출됩니다.
  - 서블릿 컨테이너가 서블릿 객체를 생성한 후 호출합니다.
  - 서블릿이 작업하는데 필요한 자원을 준비시키는 코드를 넣습니다.
  
doFilter(), service() 함수
  - 해당 서블릿에 대해 요청이 들어올 때마다 호출됩니다.
  - 클라이언트가 요청한 작업을 처리하는 코드를 넣습니다.

## DB 연결 확인하기

init() 함수를 활용하여 DB 연결을 확인 해줍니다.

DB 정상적으로 연결된 경우
![Description](https://alalstjr.github.io/jjunpro.github.io/img/2019-05-09-1.png)

DB 연결이 실패한 경우
![Description](https://alalstjr.github.io/jjunpro.github.io/img/2019-05-09-2.png)

# DTO(Data Transfer Object)혹은 VO(Value Object)

계층간 데이터 교환을 위한 DTO 를 생성합니다.

src/member/memberDTO 생성

<script src="https://gist.github.com/alalstjr/bf6170d88d61614bd19ddf061cb12863.js"></script>

유저의 정보를 담는 클래스 생성자와 getter, setter를 작성합니다.

# DAO(Data Access Object)

DB를 사용해 데이터를 조화하거나 조작하는 기능을 전담하는 오브젝트를 생성합니다.

src/member/memberDAO 생성

<script src="https://gist.github.com/alalstjr/c57c1feb9d7123c16655d49d13f1b53b.js"></script>

SQL로 데이터를 DB에서 검색후 값을 List 형식으로 전달합니다.
값이 정상적으로 전달되어 등록된 회원의 List가 정상 출력되는지 확인해 보겠습니다.

# 참고자료

<a href="https://uoonleen.tistory.com/60">서블릿 생명주기 메소드 종류</a> <br/>
<a href="http://blog.devez.net/163">[JSP / Servlet] 한글처리</a>
<a href="https://jungwoon.github.io/common%20sense/2017/11/16/DAO-VO-DTO/">DAO vs DTO(=VO) 개념 알아보기</a>
